# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Django + Vue.js

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã Django –±—ç–∫–µ–Ω–¥–∞ —Å Vue.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ Django.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd rugby-site

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
./dev_setup.sh
```

### Production —Å–±–æ—Ä–∫–∞
```bash
# –°–æ–±–µ—Ä–∏—Ç–µ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å Django
./build_frontend.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Django —Å–µ—Ä–≤–µ—Ä
cd backend
source ../venv/bin/activate
python3 manage.py runserver
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000

## üõ†Ô∏è –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### 1. –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Development)
–í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Vue –∏ Django —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö —Å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º API:

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - Django API:**
```bash
cd backend
source ../venv/bin/activate
python3 manage.py runserver
# –î–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://127.0.0.1:8000
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Vue Frontend:**
```bash
cd frontend
npm run dev
# –î–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://127.0.0.1:8080
```

### 2. Production —Ä–µ–∂–∏–º
–í production —Ä–µ–∂–∏–º–µ Django –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω–æ–µ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
# –°–±–æ—Ä–∫–∞ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd frontend
npm run build:django

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
./build_frontend.sh

# –ó–∞–ø—É—Å–∫ Django
cd backend
source ../venv/bin/activate
python3 manage.py runserver
# –í—Å—ë –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://127.0.0.1:8000
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rugby-site/
‚îú‚îÄ‚îÄ frontend/                 # Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/                 # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ Vue
‚îÇ   ‚îú‚îÄ‚îÄ dist/                # –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.js       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ backend/                 # Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ static/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ frontend/        # üéØ –°—é–¥–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ staticfiles/         # –°–æ–±—Ä–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏–∫–∞ Django
‚îÇ   ‚îú‚îÄ‚îÄ rugby_backend/       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îî‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ venv/                    # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îú‚îÄ‚îÄ build_frontend.sh        # üöÄ –°–∫—Ä–∏–ø—Ç production —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ dev_setup.sh            # üõ†Ô∏è –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ä–µ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îî‚îÄ‚îÄ requirements.txt
```

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vite (frontend/vite.config.js)
```javascript
export default defineConfig({
  base: process.env.NODE_ENV === 'production' ? '/static/frontend/' : '/',
  build: {
    outDir: '../backend/static/frontend',  // –°–±–æ—Ä–∫–∞ –ø—Ä—è–º–æ –≤ Django
    // ...
  }
})
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django (backend/rugby_backend/settings.py)
```python
# –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
STATIC_URL = '/static/'
STATICFILES_DIRS = [
    BASE_DIR / 'static',  # –í–∫–ª—é—á–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
]

# –®–∞–±–ª–æ–Ω—ã
TEMPLATES = [{
    'DIRS': [
        BASE_DIR / 'static/frontend',  # –î–ª—è index.html Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ],
}]
```

### 3. URL –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (backend/rugby_backend/urls.py)
```python
urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include('api.urls')),
    # Vue.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
    path('', TemplateView.as_view(template_name='index.html'), name='vue_app'),
]

# –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ development
if settings.DEBUG:
    from django.contrib.staticfiles.urls import staticfiles_urlpatterns
    urlpatterns += staticfiles_urlpatterns()
```

## üîß –ö–æ–º–∞–Ω–¥—ã

### Vue –∫–æ–º–∞–Ω–¥—ã
```bash
cd frontend
npm run dev          # –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build        # –û–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞
npm run build:django # –°–±–æ—Ä–∫–∞ –¥–ª—è Django —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
npm run preview      # –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏
```

### Django –∫–æ–º–∞–Ω–¥—ã
```bash
cd backend
source ../venv/bin/activate
python3 manage.py runserver      # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python3 manage.py collectstatic  # –°–±–æ—Ä —Å—Ç–∞—Ç–∏–∫–∏
python3 manage.py migrate        # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```

### –£–¥–æ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
```bash
./dev_setup.sh       # –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
./build_frontend.sh  # Production —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ: `./build_frontend.sh`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Django —Å—Ç–∞—Ç–∏–∫–∞ —Å–æ–±—Ä–∞–Ω–∞: `python3 manage.py collectstatic`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `settings.py` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã `STATICFILES_DIRS`

### –ü—Ä–æ–±–ª–µ–º–∞: API –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–†–µ—à–µ–Ω–∏–µ:**
1. –í —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ proxy –≤ `vite.config.js`
2. –í production: —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Django API –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ

### –ü—Ä–æ–±–ª–µ–º–∞: Vue –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ Django URLs –µ—Å—Ç—å fallback –Ω–∞ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `index.html` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `TEMPLATES['DIRS']`

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç History API —Ä–æ—É—Ç–∏–Ω–≥
- Django –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç API –Ω–∞ `/api/` –∏ –∞–¥–º–∏–Ω–∫—É –Ω–∞ `/admin/`
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è Vue.js
- –í production –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –æ–±—Å–ª—É–∂–∏–≤–∞—é—Ç—Å—è Django
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 5173, 3000, 8080

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –¥–≤—É–º—è —Å–µ—Ä–≤–µ—Ä–∞–º–∏
2. **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./build_frontend.sh`
3. **–î–ª—è –¥–µ–ø–ª–æ—è**: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä (nginx) –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∏
4. **–î–ª—è CI/CD**: –¥–æ–±–∞–≤—å—Ç–µ `./build_frontend.sh` –≤ –ø–∞–π–ø–ª–∞–π–Ω —Å–±–æ—Ä–∫–∏
